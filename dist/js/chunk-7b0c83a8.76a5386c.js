(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b0c83a8"],{6804:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"}},[t("a-row",{attrs:{gutter:48}},[t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{label:"姓名"}},[t("a-input",{attrs:{placeholder:""},model:{value:e.queryParam.id,callback:function(a){e.$set(e.queryParam,"id",a)},expression:"queryParam.id"}})],1)],1),t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{label:"手机号"}},[t("a-input",{attrs:{placeholder:""},model:{value:e.queryParam.id,callback:function(a){e.$set(e.queryParam,"id",a)},expression:"queryParam.id"}})],1)],1),e.advanced?[t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{label:"调用次数"}},[t("a-input-number",{staticStyle:{width:"100%"},model:{value:e.queryParam.callNo,callback:function(a){e.$set(e.queryParam,"callNo",a)},expression:"queryParam.callNo"}})],1)],1),t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{label:"更新日期"}})],1),t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{label:"使用状态"}})],1),t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{label:"使用状态"}})],1)]:e._e(),t("a-col",{attrs:{md:e.advanced?24:8,sm:24}},[t("span",{staticClass:"table-page-search-submitButtons",style:e.advanced&&{float:"right",overflow:"hidden"}||{}},[t("a-button",{attrs:{type:"primary"},on:{click:function(a){return e.$refs.table.refresh(!0)}}},[e._v("查询")]),t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return e.queryParam={}}}},[e._v("重置")]),t("a",{staticStyle:{"margin-left":"8px"},on:{click:e.toggleAdvanced}},[e._v("\n            "+e._s(e.advanced?"收起":"展开")+"\n            "),t("a-icon",{attrs:{type:e.advanced?"up":"down"}})],1)],1)])],2)],1),t("members-table")],1)},s=[],o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("a-button",{staticClass:"editable-add-btn",attrs:{type:"primary"},on:{click:e.handleAdd}},[t("a-icon",{attrs:{type:"plus"}}),e._v("新增")],1),t("a-table",{attrs:{dataSource:e.dataSource,columns:e.columns,rowKey:"id",change:"change"},scopedSlots:e._u([{key:"logo",fn:function(e){return[t("img",{staticStyle:{width:"30px"},attrs:{src:e,alt:""}})]}},{key:"userSex",fn:function(a){return[t("span",{domProps:{textContent:e._s(0==a?"女":"男")}})]}},{key:"status",fn:function(a){return t("span",{},[t("a-tag",{attrs:{color:"blue"},domProps:{textContent:e._s(1===a?"启用":"禁用")}})],1)}},{key:"operation",fn:function(a){return[t("div",{on:{click:function(t){return e.edit(a)}}},[t("a",{attrs:{href:"javascript:;"}},[e._v("编辑")])])]}}])}),t("members-layer",{ref:"MembersLayer",on:{getTeamMember:e.getTeamMember}})],1)},l=[],i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("a-modal",{attrs:{title:e.title,visible:e.visible,okText:"保存",cancelText:"返回"},on:{cancel:e.handleCancel,ok:e.handleOk}},[t("a-form",{attrs:{form:e.form}},[t("a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol,label:"手机号"}},[t("a-row",[t("a-col",{attrs:{span:"12"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["userMobile",{rules:[{required:!0,pattern:/^1[34578]\d{9}$/,message:"请输入正确的手机号！"}]}],expression:"[\n            'userMobile',\n            { rules: [{ required: true, pattern: /^1[34578]\\d{9}$/, message: '请输入正确的手机号！' }] }\n          ]"}],attrs:{placeholder:"手机号",disabled:e.disabled.mobileDisabled}})],1),t("a-col",{attrs:{span:"12"}},[t("a-button",{attrs:{disabled:e.disabled.btnDisabled},on:{click:e.ismemberBtn}},[e._v("检验是否注册")])],1)],1)],1),t("a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol,label:"姓名"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["userName",{rules:[{required:!0,message:"必填!"}]}],expression:"[\n            'userName',\n            { rules: [{ required: true, message: '必填!' }] }\n          ]"}],attrs:{placeholder:"姓名",disabled:e.disabled.nameDisabled}})],1),t("a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol,label:"性别"}},[t("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["userSex",{initialValue:1}],expression:"['userSex', { initialValue: 1 }]"}],attrs:{disabled:""}},[t("a-radio",{attrs:{value:1}},[e._v("男")]),t("a-radio",{attrs:{value:0}},[e._v("女")])],1)],1),t("a-form-item",{attrs:{"label-col":e.formTailLayout.labelCol,"wrapper-col":e.formTailLayout.wrapperCol,label:"显示序列"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataOrder",{rules:[{required:!0,pattern:/^\d+$/,message:"必填！/只允许数字！"}]}],expression:"[\n            'dataOrder',\n            { rules: [{ required: true, pattern: /^\\d+$/, message: '必填！/只允许数字！' }] }\n          ]"}],attrs:{placeholder:"数值越小，显示越靠前"}})],1),t("a-form-item",e._b({attrs:{label:"角色"}},"a-form-item",e.formItemLayout,!1),[t("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["roles",{rules:[{required:!0,message:"至少选择一项！"}],initialValue:["1001"]}],expression:"[\n            'roles',\n            {\n              rules: [{ required: true, message: '至少选择一项！' }],\n              initialValue: ['1001']\n            }\n          ]"}],staticStyle:{width:"100%"}},[t("a-row",e._l(e.roleList,function(a){return t("a-col",{key:a.id,attrs:{span:8}},[t("a-checkbox",{attrs:{value:a.id}},[e._v("\n                "+e._s(a.roleName)+"\n              ")])],1)}),1)],1)],1),t("a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol,label:"状态"}},[t("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataStatus",{initialValue:1}],expression:"['dataStatus', { initialValue: 1 }]"}]},[t("a-radio",{attrs:{value:1}},[e._v("启用")]),t("a-radio",{attrs:{value:2}},[e._v("禁用")])],1)],1),t("a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol,label:"备注"}},[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["memberReserve",{rules:[{required:!0,message:"请添加备注！"}]}],expression:"[\n            'memberReserve',\n            { rules: [{ required: true, message: '请添加备注！' }] }\n          ]"}],attrs:{placeholder:"Basic usage",rows:4}})],1)],1)],1)],1)},n=[],d=(t("28a5"),t("3228")),c={beforeCreate:function(){this.form=this.$form.createForm(this)},created:function(){var e=this;Object(d["x"])().then(function(a){e.roleList=a.data.list}).catch(function(e){console.log(e)})},data:function(){return{formItemLayout:{labelCol:{span:4},wrapperCol:{span:20}},formTailLayout:{labelCol:{span:4},wrapperCol:{span:10}},title:"",visible:!1,roleList:[],id:"",disabled:{nameDisabled:!0,mobileDisabled:!0,btnDisabled:!0}}},methods:{handleCancel:function(){var e=this.form;e.resetFields(),this.visible=!1},handleOk:function(){var e=this;this.form.validateFields(function(a,t){a||("编辑成员"===e.title?Object(d["c"])({dataOrder:t.dataOrder,dataStatus:t.dataStatus,id:e.id,memberReserve:t.memberReserve,roleIds:t.roles}).then(function(a){if(200===a.code)return e.$notification["success"]({message:"提示",description:"更改成功",duration:2}),e.$emit("getTeamMember"),e.visible=!1}).catch(function(e){console.log("编辑成员详情err=",e)}):Object(d["r"])({dataOrder:t.dataOrder,dataStatus:t.dataStatus,memberReserve:t.memberReserve,roleIds:t.roles,userMobile:t.userMobile,userName:t.userName,userSex:1}).then(function(a){if(console.log("新增成员",a),200===a.code)return e.$notification["success"]({message:"提示",description:"更改成功",duration:2}),e.$emit("getTeamMember"),e.visible=!1;e.$message.info(a.msg)}).catch(function(e){console.log("新增成员详情err=",e)}))})},getMemberDetail:function(e){var a=this;this.disabled={nameDisabled:!0,mobileDisabled:!0,btnDisabled:!0},this.visible=!this.visible,Object(d["C"])(e).then(function(e){console.log("成员详情",e),200===e.code&&(a.form.setFieldsValue({userMobile:e.data.userMobile,userName:e.data.userName,userSex:e.data.userSex,dataOrder:e.data.dataOrder,dataStatus:e.data.dataStatus,memberReserve:e.data.memberReserve,roles:e.data.roleIds.split(",")}),a.id=e.data.id)}).catch(function(e){console.log(e)})},addTeamMember:function(){console.log("新增成员弹层"),this.title="新增成员";var e=this.form;e.resetFields(),this.disabled={},console.log(this.$store.state.token),this.visible=!0},ismemberBtn:function(){var e=this;this.form.validateFields(["userMobile"],function(a,t){a||Object(d["h"])(t.userMobile).then(function(a){e.$message.info(a.msg)}).catch(function(e){console.log("检查是否已经是成员",e)})})}}},u=c,m=t("2877"),b=Object(m["a"])(u,i,n,!1,null,null,null),f=b.exports,p={components:{MembersLayer:f},data:function(){return{dataSource:[],columns:[{title:"头像",dataIndex:"userLogo",scopedSlots:{customRender:"logo"}},{title:"姓名",dataIndex:"userName"},{title:"性别",dataIndex:"userSex",scopedSlots:{customRender:"userSex"}},{title:"手机号",dataIndex:"userMobile"},{title:"角色",dataIndex:"roleIds"},{title:"电子邮箱",dataIndex:"email"},{title:"状态",dataIndex:"dataStatus",scopedSlots:{customRender:"status"}},{title:"备注",dataIndex:"memberReserve"},{title:"操作",dataIndex:"id",scopedSlots:{customRender:"operation"}}]}},created:function(){this.getTeamMember()},methods:{handleAdd:function(){this.$refs.MembersLayer.addTeamMember()},edit:function(e){this.$refs.MembersLayer.getMemberDetail(e),this.$refs.MembersLayer.title="编辑成员"},getTeamMember:function(){var e=this;Object(d["B"])("pageSize=52").then(function(a){if(console.log("团队成员",a),4401===a.code)return e.$notification.error({message:"注意",description:"用户已失效，请重新登录"});e.dataSource=a.data.list}).catch(function(e){console.log(e)})}}},v=p,h=(t("a8a5"),Object(m["a"])(v,o,l,!1,null,"49d22331",null)),g=h.exports,y={components:{MembersTable:g},data:function(){return{advanced:!1,queryParam:{}}},methods:{toggleAdvanced:function(){this.advanced=!this.advanced}}},x=y,w=Object(m["a"])(x,r,s,!1,null,null,null);a["default"]=w.exports},8062:function(e,a,t){},a8a5:function(e,a,t){"use strict";var r=t("8062"),s=t.n(r);s.a}}]);
//# sourceMappingURL=chunk-7b0c83a8.76a5386c.js.map