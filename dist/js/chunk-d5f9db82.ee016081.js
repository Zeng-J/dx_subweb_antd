(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d5f9db82"],{acad:function(e,a,t){"use strict";var r=t("ea53"),s=t.n(r);s.a},d6e2:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"account-settings-info-view"},[t("a-row",{attrs:{gutter:16}},[t("a-col",{attrs:{md:24,lg:16}},[t("a-form",{attrs:{layout:"vertical",form:e.form}},[t("a-form-item",{attrs:{label:"邮箱"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{message:"Please input your email"}]}],expression:"[\n            'email',\n            {rules: [{  message: 'Please input your email' }]}\n          ]"}],attrs:{placeholder:""}})],1),t("a-form-item",{attrs:{label:"昵称"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入您的昵称"}],validateTrigger:["change","blur"]}],expression:"[\n            'name',\n            {rules: [{required: true, message: '请输入您的昵称' }], validateTrigger: ['change', 'blur']}\n          ]"}],attrs:{placeholder:""}})],1),t("a-form-item",{attrs:{label:"联系电话："}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile",{rules:[{required:!0,message:"请输入正确的手机号",pattern:/^1[3456789]\d{9}$/}],validateTrigger:["change","blur"]}],expression:"[\n            'mobile',\n            {rules: [{ required: true, message: '请输入正确的手机号', pattern: /^1[3456789]\\d{9}$/ }], validateTrigger: ['change', 'blur'] }\n          ]"}],attrs:{placeholder:""}})],1),t("a-form-item",{attrs:{label:"个人简介"}},[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["userInfo",{rules:[{message:"Please input your userInfo"}]}],expression:"[\n            'userInfo',\n            {rules: [{message:'Please input your userInfo' }]}\n          ]"}],attrs:{rows:"4",placeholder:"You are not alone."}})],1),t("a-form-item",{attrs:{label:"性别"}},[t("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["userSex",{initialValue:1}],expression:"['userSex', { initialValue: 1 }]"}]},[t("a-radio",{attrs:{value:1}},[e._v("男")]),t("a-radio",{attrs:{value:0}},[e._v("女")])],1)],1),t("a-form-item",[t("a-button",{attrs:{type:"primary",htmlType:"submit"},on:{click:e.handleSubmit}},[e._v("更新基本信息")])],1)],1)],1),t("a-col",{style:{minHeight:"180px"},attrs:{md:24,lg:8}},[t("div",{staticClass:"ant-upload-preview"},[t("a-icon",{staticClass:"upload-icon",attrs:{type:"cloud-upload-o"}}),t("div",{staticClass:"mask"},[t("a-upload",{staticClass:"avatar-upload",attrs:{name:"avatar",showUploadList:!1,listType:"picture",action:e.uploadUrl,beforeUpload:e.beforeUpload},on:{change:e.handleChange}},[t("div",[t("a-icon",{attrs:{type:e.loading?"loading":"plus"}}),t("div",{staticClass:"ant-upload-text"},[e._v("Upload")])],1)])],1),t("img",{attrs:{src:e.img}})],1)])],1)],1)},s=[],o=(t("7f7f"),t("3228")),i=t("b95e"),n={data:function(){return{uploadUrl:i["b"],form:this.$form.createForm(this),img:"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=1218485516,264644399&fm=27&gp=0.jpg",loading:!1}},created:function(){this.getUserBase()},methods:{getUserBase:function(){var e=this;Object(o["g"])().then(function(a){console.log(a),200===a.code&&(e.form.setFieldsValue({name:a.data.userName,mobile:a.data.userMobile,email:"",userInfo:a.data.userIntro,userSex:a.data.userSex}),e.img=a.data.userLogo||e.img,console.log("基本设置token",a.data.token),e.$store.commit("setToken",a.data.token))}).catch(function(e){console.log(e)})},handleSubmit:function(){var e=this;this.form.validateFields(function(a,t){a||Object(o["u"])({logoPic:e.img,userIntro:t.userInfo,userName:t.name,userSex:t.userSex}).then(function(a){console.log(a),200===a.code?(e.$notification["success"]({message:"提示",description:"更改成功",duration:2}),e.$store.commit("setAccount",{userName:t.name,avatar:e.img})):alert(a.msg)}).catch(function(e){console.log("err="+e)})})},beforeUpload:function(e){var a="image/jpeg"===e.type||"image/png";a||this.$message.error("You can only upload JPG file or PNG file!");var t=e.size/1024/1024<2;return t||this.$message.error("Image must smaller than 2MB!"),a&&t},handleChange:function(e){console.log(e),"uploading"!==e.file.status?"done"===e.file.status&&(this.img=e.file.response.data,this.loading=!1):this.loading=!0}}},l=n,u=(t("acad"),t("2877")),c=Object(u["a"])(l,r,s,!1,null,"3b53527d",null);a["default"]=c.exports},ea53:function(e,a,t){}}]);
//# sourceMappingURL=chunk-d5f9db82.ee016081.js.map