{"version":3,"sources":["webpack:///./src/subweb/competition/views/GameContent.vue?196b","webpack:///src/subweb/competition/views/GameContent.vue","webpack:///./src/subweb/competition/views/GameContent.vue?d9d0","webpack:///./src/subweb/competition/views/GameContent.vue"],"names":["render","this$1","this","_vm","_h","$createElement","_c","_self","staticStyle","width","attrs","bordered","title","item","contestName","height","slot","alt","src","contestLogo","_v","_s","sponsorName","contestIntroduce","contestReward","style","color","span","disabled","type","on","click","key","to","name","query","contestId","$route","margin-right","tips","time","day","hour","minute","second","contestUserNum","gutter","tabList","tabListNoTitle","activeTabKey","tabChange","onTabChange","href","sponsorWebsite","sponsorLogo","sponsorIntroduce","staticRenderFns","GameContentvue_type_script_lang_js_","data","tab","created","$store","state","isLogin","contestInfoId","methods","$router","push","addr","_this","Object","api","then","res","console","log","tmp","endtime","that","end1","Date","contentJoinTime","end2","contestStartTime","end3","contestEndTime","tmp1","getTime","tmp2","tmp3","toLocaleString","clearInterval","t","setInterval","nowtime","lefttime","parse_int_default","d","h","m","s","catch","err","views_GameContentvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"uHAAA,IAAAA,EAAA,WACA,IAAAC,EAAAC,KACAC,EAAAD,KAAaE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,UAA8BE,YAAA,CAAaC,MAAA,QAAeC,MAAA,CAAQC,UAAA,IAAkB,CAAAL,EAAA,eAAoBI,MAAA,CAAOE,MAAAT,EAAAU,KAAAC,cAA8B,CAAAR,EAAA,OAAYE,YAAA,CAAaC,MAAA,QAAAM,OAAA,SAAiCL,MAAA,CAAQM,KAAA,SAAAC,IAAA,KAAAC,IAAAf,EAAAU,KAAAM,aAAsDH,KAAA,WAAeV,EAAA,YAAiBU,KAAA,eAAmB,CAAAV,EAAA,KAAAA,EAAA,QAAAH,EAAAiB,GAAA,UAAAjB,EAAAiB,GAAAjB,EAAAkB,GAAAlB,EAAAU,KAAAS,gBAAAhB,EAAA,KAAAH,EAAAiB,GAAAjB,EAAAkB,GAAAlB,EAAAU,KAAAU,qBAAAjB,EAAA,KAAAA,EAAA,QAAAH,EAAAiB,GAAA,OAAAjB,EAAAiB,GAAAjB,EAAAkB,GAAAlB,EAAAU,KAAAW,eAAA,QAAAlB,EAAA,SAA4NmB,MAAA,CAAQC,MAAAvB,EAAAU,KAAAa,QAAuB,CAAApB,EAAA,SAAcI,MAAA,CAAOiB,KAAA,MAAY,CAAArB,EAAA,QAAAH,EAAAU,KAAA,cAAAP,EAAA,YAAqDI,MAAA,CAAOkB,SAAA,KAAe,CAAAzB,EAAAiB,GAAA,SAAAd,EAAA,YAAiCI,MAAA,CAAOmB,KAAA,UAAAD,SAAA,UAAAzB,EAAAU,KAAAa,OAAuDI,GAAA,CAAKC,MAAA,WAAqB9B,EAAA+B,IAAA,WAAqB,CAAA1B,EAAA,eAAoBI,MAAA,CAAOuB,GAAA,CAAMC,KAAA,QAAAC,MAAA,CAAuBC,UAAAlC,KAAAmC,OAAAF,MAAAC,cAA0C,CAAAjC,EAAAiB,GAAA,oBAAAd,EAAA,SAAyCI,MAAA,CAAOiB,KAAA,MAAY,CAAArB,EAAA,QAAAA,EAAA,UAA0BE,YAAA,CAAa8B,eAAA,OAAqB5B,MAAA,CAAQmB,KAAA,kBAAuB1B,EAAAiB,GAAAjB,EAAAkB,GAAAlB,EAAAU,KAAA0B,MAAA,oCAAAjC,EAAA,SAA+EI,MAAA,CAAOiB,KAAA,MAAY,CAAAxB,EAAA,KAAAG,EAAA,QAAAH,EAAAiB,GAAA,MAAAjB,EAAAkB,GAAAlB,EAAAqC,KAAAC,KAAA,IAAAtC,EAAAkB,GAAAlB,EAAAqC,KAAAE,MAAA,IAAAvC,EAAAkB,GAAAlB,EAAAqC,KAAAG,QAAA,KAAAxC,EAAAkB,GAAAlB,EAAAqC,KAAAI,QAAA,OAAAtC,EAAA,QAAAH,EAAAiB,GAAA,aAAAd,EAAA,SAA+LI,MAAA,CAAOiB,KAAA,MAAY,CAAArB,EAAA,QAAAA,EAAA,UAA0BE,YAAA,CAAa8B,eAAA,OAAqB5B,MAAA,CAAQmB,KAAA,kBAAuB,YAAA1B,EAAAU,KAAAa,MAAApB,EAAA,QAAAH,EAAAiB,GAAA,yBAAAjB,EAAAU,KAAAa,MAAApB,EAAA,QAAAH,EAAAiB,GAAA,wBAAAjB,EAAAU,KAAAa,MAAApB,EAAA,QAAAH,EAAAiB,GAAA,cAAAd,EAAA,QAAAH,EAAAiB,GAAA,oBAAAd,EAAA,SAA8OI,MAAA,CAAOiB,KAAA,MAAY,CAAArB,EAAA,QAAAH,EAAAiB,GAAAjB,EAAAkB,GAAAlB,EAAAU,KAAAgC,gBAAA,2BAAAvC,EAAA,SAA4FI,MAAA,CAAOoC,OAAA,KAAa,CAAAxC,EAAA,SAAcI,MAAA,CAAOiB,KAAA,KAAW,CAAArB,EAAA,UAAeI,MAAA,CAAOqC,QAAA5C,EAAA6C,eAAAC,aAAA9C,EAAA6B,KAAoDF,GAAA,CAAKoB,UAAA,SAAAlB,GAA4B,OAAA7B,EAAAgD,YAAAnB,MAAiC,CAAA1B,EAAA,uBAAAA,EAAA,SAAwCI,MAAA,CAAOiB,KAAA,IAAU,CAAArB,EAAA,UAAeI,MAAA,CAAOE,MAAA,QAAe,CAAAN,EAAA,KAAUI,MAAA,CAAO0C,KAAAjD,EAAAU,KAAAwC,iBAAgC,CAAA/C,EAAA,OAAYE,YAAA,CAAaC,MAAA,QAAeC,MAAA,CAAQQ,IAAAf,EAAAU,KAAAyC,eAA4BhD,EAAA,MAAAH,EAAAiB,GAAAjB,EAAAkB,GAAAlB,EAAAU,KAAAS,kBAAAhB,EAAA,KAAAH,EAAAiB,GAAAjB,EAAAkB,GAAAlB,EAAAU,KAAA0C,wBAAA,YAC5uEC,EAAA,oCC8DAC,EAAA,CACAC,KADA,WAEA,OACA7C,KAAA,GACAmB,IAAA,UACAQ,KAAA,CACAC,IAAA,EACAC,KAAA,EACAC,OAAA,EACAC,OAAA,GAEAI,eAAA,CACA,CACAhB,IAAA,UACA2B,IAAA,QAEA,CACA3B,IAAA,YACA2B,IAAA,QAEA,CACA3B,IAAA,UACA2B,IAAA,QAEA,CACA3B,IAAA,QACA2B,IAAA,QAEA,CACA3B,IAAA,OACA2B,IAAA,WAKAC,QAnCA,YAoCA,IAAA1D,KAAA2D,OAAAC,MAAAC,QACA7D,KAAA8D,cAAA,QAEA9D,KAAA8D,cAAA,SAGAC,QAAA,CACAd,YADA,SACAnB,GACA9B,KAAA8B,MACA9B,KAAAgE,QAAAC,KAAA,CAAAjC,KAAAF,EAAAG,MAAA,CAAAC,UAAAlC,KAAAmC,OAAAF,MAAAC,cAEA4B,cALA,SAKAI,GAAA,IAAAC,EAAAnE,KACAoE,OAAAC,EAAA,KAAAD,CAAAF,EAAAlE,KAAAmC,OAAAF,MAAAC,WACAoC,KAAA,SAAAC,GACAC,QAAAC,IAAA,OAAAF,GACAJ,EAAAxD,KAAA4D,EAAAf,KACA,IAUAkB,EAAAC,EAVAC,EAAAT,EAEAU,EAAA,IAAAC,KAAAP,EAAAf,KAAAuB,iBACAC,EAAA,IAAAF,KAAAP,EAAAf,KAAAyB,kBACAC,EAAA,IAAAJ,KAAAP,EAAAf,KAAA2B,gBAEAC,GAAAP,EAAAQ,WAAA,IAAAP,MAAAO,WAAA,IACAC,GAAAN,EAAAK,WAAA,IAAAP,MAAAO,WAAA,IACAE,GAAAL,EAAAG,WAAA,IAAAP,MAAAO,WAAA,IAyBA,GAtBAD,EAAA,GACAV,EAAAU,EACAT,EAAAE,EAAAQ,UACAT,EAAAjE,KAAA0B,KAAAwC,EAAAW,iBAAA,QACAZ,EAAAjE,KAAAa,MAAA,WACA8D,EAAA,GACAZ,EAAAY,EACAX,EAAAK,EAAAK,UACAT,EAAAjE,KAAA0B,KAAA2C,EAAAQ,iBAAA,QACAZ,EAAAjE,KAAAa,MAAA,UACA+D,EAAA,GACAb,EAAAa,EACAZ,EAAAO,EAAAG,UACAT,EAAAjE,KAAA0B,KAAA6C,EAAAM,iBAAA,QACAZ,EAAAjE,KAAAa,MAAA,SAEAiE,cAAAC,GACAd,EAAAtC,KAAA,KACAoC,EAAA,EACAE,EAAAjE,KAAA0B,KAAA6C,EAAAM,iBAAA,OACAZ,EAAAjE,KAAAa,MAAA,SAEAkD,EAAA,EACA,IAAAgB,EAAAC,YAAA,WACA,IAAAC,EAAA,IAAAd,KACAe,EAAAC,KAAAnB,EAAAiB,EAAAP,WAAA,KACAU,EAAAD,IAAAD,EAAA,SACAG,EAAAF,IAAAD,EAAA,SACAI,EAAAH,IAAAD,EAAA,OACAK,EAAAJ,IAAAD,EAAA,IACAjB,EAAAtC,KAAAC,IAAAwD,EACAnB,EAAAtC,KAAAE,KAAAwD,EACApB,EAAAtC,KAAAG,OAAAwD,EACArB,EAAAtC,KAAAI,OAAAwD,GACA,OAGAC,MAAA,SAAAC,GACA5B,QAAAC,IAAA2B,QCtKmXC,EAAA,cCOnXC,EAAgBlC,OAAAmC,EAAA,KAAAnC,CACdiC,EACAvG,EACAwD,GACF,EACA,KACA,KACA,MAIekD,EAAA,WAAAF","file":"js/chunk-2d2076eb.3644b710.js","sourcesContent":["var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-card',{staticStyle:{\"width\":\"100%\"},attrs:{\"bordered\":false}},[_c('a-card-meta',{attrs:{\"title\":_vm.item.contestName}},[_c('img',{staticStyle:{\"width\":\"250px\",\"height\":\"180px\"},attrs:{\"slot\":\"avatar\",\"alt\":\"海报\",\"src\":_vm.item.contestLogo},slot:\"avatar\"}),_c('template',{slot:\"description\"},[_c('p',[_c('span',[_vm._v(\"主办方:\")]),_vm._v(_vm._s(_vm.item.sponsorName))]),_c('p',[_vm._v(_vm._s(_vm.item.contestIntroduce))]),_c('p',[_c('span',[_vm._v(\"￥\")]),_vm._v(_vm._s(_vm.item.contestReward)+\"奖金\")]),_c('a-row',{style:({color:_vm.item.color})},[_c('a-col',{attrs:{\"span\":\"4\"}},[_c('span',[(_vm.item.userJoinState)?_c('a-button',{attrs:{\"disabled\":\"\"}},[_vm._v(\"已报名\")]):_c('a-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.item.color === 'black'},on:{\"click\":function () {this$1.key='enrol'}}},[_c('router-link',{attrs:{\"to\":{ name: 'enrol', query:{contestId:this.$route.query.contestId} }}},[_vm._v(\"立即报名\")])],1)],1)]),_c('a-col',{attrs:{\"span\":\"7\"}},[_c('span',[_c('a-icon',{staticStyle:{\"margin-right\":\"8px\"},attrs:{\"type\":\"clock-circle\"}}),_vm._v(_vm._s(_vm.item.tips)+\"\\n                        \")],1)]),_c('a-col',{attrs:{\"span\":\"5\"}},[(_vm.time)?_c('span',[_vm._v(\"倒计时\"+_vm._s(_vm.time.day)+\"天\"+_vm._s(_vm.time.hour)+\"时\"+_vm._s(_vm.time.minute)+\"分钟\"+_vm._s(_vm.time.second)+\"秒\")]):_c('span',[_vm._v(\"活动已结束\")])]),_c('a-col',{attrs:{\"span\":\"4\"}},[_c('span',[_c('a-icon',{staticStyle:{\"margin-right\":\"8px\"},attrs:{\"type\":\"clock-circle\"}}),(_vm.item.color === '#87d068')?_c('span',[_vm._v(\"在期 | 报名中\")]):(_vm.item.color === 'orange')?_c('span',[_vm._v(\"在期 | 等待竞赛\")]):(_vm.item.color === '#f50')?_c('span',[_vm._v(\"在期 | 竞赛中\")]):_c('span',[_vm._v(\"往期 | 已结束\")])],1)]),_c('a-col',{attrs:{\"span\":\"4\"}},[_c('span',[_vm._v(_vm._s(_vm.item .contestUserNum)+\"人参与\")])])],1)],1)],2)],1),_c('a-row',{attrs:{\"gutter\":16}},[_c('a-col',{attrs:{\"span\":20}},[_c('a-card',{attrs:{\"tabList\":_vm.tabListNoTitle,\"activeTabKey\":_vm.key},on:{\"tabChange\":function (key) { return _vm.onTabChange(key); }}},[_c('router-view')],1)],1),_c('a-col',{attrs:{\"span\":4}},[_c('a-card',{attrs:{\"title\":\"主办方\"}},[_c('a',{attrs:{\"href\":_vm.item.sponsorWebsite}},[_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":_vm.item.sponsorLogo}}),_c('h4',[_vm._v(_vm._s(_vm.item.sponsorName))])]),_c('p',[_vm._v(_vm._s(_vm.item.sponsorIntroduce))])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <a-card style=\"width: 100%\" :bordered=\"false\">\r\n            <a-card-meta :title=\"item.contestName\">\r\n                <img alt=\"海报\" :src=\"item.contestLogo\" slot=\"avatar\" style=\"width:250px;height:180px\" />\r\n                <template slot=\"description\">\r\n                    <p>\r\n                        <span>主办方:</span>{{item.sponsorName}}</p>\r\n                    <p>{{item.contestIntroduce}}</p>\r\n                    <p>\r\n                        <span>￥</span>{{item.contestReward}}奖金</p>\r\n                    <a-row :style=\"{color:item.color}\">\r\n                        <a-col span=\"4\">\r\n                            <span>\r\n                                <a-button v-if=\"item.userJoinState\" disabled>已报名</a-button>\r\n                                <a-button type=\"primary\" v-else :disabled=\"item.color === 'black'\" @click=\"() => {this.key='enrol'}\">\r\n                                    <router-link :to=\"{ name: 'enrol', query:{contestId:this.$route.query.contestId} }\" >立即报名</router-link>\r\n                                </a-button>\r\n                            </span>\r\n                        </a-col>\r\n                        <a-col span=\"7\">\r\n                            <span>\r\n                                <a-icon type=\"clock-circle\" style=\"margin-right: 8px\" />{{ item.tips }}\r\n                            </span>\r\n                        </a-col>\r\n                        <a-col span=\"5\">\r\n                            <span v-if=\"time\">倒计时{{ time.day }}天{{time.hour}}时{{time.minute}}分钟{{time.second}}秒</span>\r\n                            <span v-else>活动已结束</span>\r\n                        </a-col>\r\n                        <a-col span=\"4\">\r\n                            <span>\r\n                                <a-icon type=\"clock-circle\" style=\"margin-right: 8px\" />\r\n                                <span v-if=\"item.color === '#87d068'\">在期&nbsp;|&nbsp;报名中</span>\r\n                                <span v-else-if=\"item.color === 'orange'\">在期&nbsp;|&nbsp;等待竞赛</span>\r\n                                <span v-else-if=\"item.color === '#f50'\">在期&nbsp;|&nbsp;竞赛中</span>\r\n                                <span v-else>往期&nbsp;|&nbsp;已结束</span>\r\n                            </span>\r\n                        </a-col>\r\n                        <a-col span=\"4\">\r\n                            <span>{{item .contestUserNum }}人参与</span>\r\n                        </a-col>\r\n                    </a-row>\r\n                </template>\r\n            </a-card-meta>\r\n        </a-card>\r\n        <a-row :gutter=\"16\">\r\n            <a-col :span=\"20\">\r\n                <a-card :tabList=\"tabListNoTitle\" @tabChange=\"key => onTabChange(key)\" :activeTabKey=\"key\">\r\n                    <router-view></router-view>\r\n                </a-card>\r\n            </a-col>\r\n            <a-col :span=\"4\">\r\n                <a-card title=\"主办方\">\r\n                    <a :href=\"item.sponsorWebsite\"><img :src=\"item.sponsorLogo\" style=\"width:100%\">\r\n                        <h4>{{item.sponsorName}}</h4>\r\n                    </a>\r\n                    <p>{{item.sponsorIntroduce}}</p>\r\n                </a-card>\r\n            </a-col>\r\n        </a-row>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { contestInfoId } from \"@/common/api\"\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n        item: {},\r\n        key:'details',\r\n        time: {\r\n            day: 0,\r\n            hour: 0,\r\n            minute: 0,\r\n            second: 0\r\n        },\r\n        tabListNoTitle: [\r\n            {\r\n                key: \"details\",\r\n                tab: \"竞赛详情\"\r\n            },\r\n            {\r\n                key: \"allEvents\",\r\n                tab: \"全部赛况\"\r\n            },\r\n            {\r\n                key: \"myEvent\",\r\n                tab: \"我的赛况\"\r\n            },\r\n            {\r\n                key: \"enrol\",\r\n                tab: \"报名填表\"\r\n            },\r\n            {\r\n                key: \"test\",\r\n                tab: \"进入答题\"\r\n            }\r\n        ],\r\n    }\r\n  },\r\n  created() {\r\n    if (this.$store.state.isLogin === false) {\r\n        this.contestInfoId('open')\r\n    } else {\r\n         this.contestInfoId('auth')\r\n    }\r\n  },\r\n  methods: {\r\n    onTabChange(key) {\r\n        this.key=key\r\n        this.$router.push({ name: key, query:{contestId:this.$route.query.contestId} });\r\n    },\r\n    contestInfoId(addr) {\r\n      contestInfoId(addr, this.$route.query.contestId)\r\n        .then(res => {\r\n          console.log('竞赛详情', res)\r\n          this.item = res.data\r\n          let that = this\r\n\r\n          let end1 = new Date(res.data.contentJoinTime);\r\n          let end2 = new Date(res.data.contestStartTime);\r\n          let end3 = new Date(res.data.contestEndTime);\r\n\r\n          let tmp1 = (end1.getTime() - new Date().getTime()) / 1000;\r\n          let tmp2 = (end2.getTime() - new Date().getTime()) / 1000;\r\n          let tmp3 = (end3.getTime() - new Date().getTime()) / 1000;\r\n\r\n          let tmp, endtime;\r\n          if (tmp1 > 0) {\r\n            tmp = tmp1;\r\n            endtime = end1.getTime();\r\n            that.item.tips = end1.toLocaleString() + \" 截至报名\";\r\n            that.item.color = \"#87d068\";\r\n          } else if (tmp2 > 0) {\r\n            tmp = tmp2;\r\n            endtime = end2.getTime();\r\n            that.item.tips = end2.toLocaleString() + \" 开始竞赛\";\r\n            that.item.color = \"orange\";\r\n          } else if (tmp3 > 0) {\r\n            tmp = tmp3;\r\n            endtime = end3.getTime();\r\n            that.item.tips = end3.toLocaleString() + \" 结束竞赛\";\r\n            that.item.color = \"#f50\";\r\n          } else {\r\n            clearInterval(t);\r\n            that.time = null;\r\n            tmp = 0;\r\n            that.item.tips = end3.toLocaleString() + \" 已结束\";\r\n            that.item.color = \"black\";\r\n          }\r\n          if (tmp > 0) {\r\n            var t = setInterval(function() {\r\n              let nowtime = new Date()\r\n              var lefttime = parseInt((endtime - nowtime.getTime()) / 1000);\r\n              let d = parseInt(lefttime / 3600 / 24);\r\n              let h = parseInt(lefttime / (60 * 60)) % 24;\r\n              let m = parseInt(lefttime / 60) % 60;\r\n              let s = parseInt(lefttime % 60);\r\n              that.time.day = d;\r\n              that.time.hour = h;\r\n              that.time.minute = m;\r\n              that.time.second = s;\r\n            }, 1000)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GameContent.vue?vue&type=template&id=69709004&\"\nimport script from \"./GameContent.vue?vue&type=script&lang=js&\"\nexport * from \"./GameContent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}